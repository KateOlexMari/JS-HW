<!DOCTYPE html>
<html lang="zxx">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/styletask.css" />

    <title>task__5</title>
  </head>

  <body>
    <main class="task">
      <div class="info">
        <h1 class="task__nummer">Задача 5.</h1>
        <h2 class="task__description">
          Дано послідовність оцінок учня. Підрахувати кількість:<br />
          1) двійок<br />
          2) кількість хороших оцінок (добре, відмінно);<br />
          3) кількість оцінок, які нижче середнього.<br />
        </h2>
      </div>

      <script>
        function getRandomNum(min, max) {
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function getGradesArr(gradesNumber) {
          let grades = [];
          for (let i = 0; i < gradesNumber; i++) {
            grades[i] = getRandomNum(2, 5);
          }
          return grades;
        }

        function getNumberOfBadGrades(grades) {
          let numOf2 = 0;
          for (let grade of grades) {
            if (grade === 2) numOf2++;
          }
          return numOf2;
        }

        function getNumberOfGoodGrades(grades) {
          let numOf4And5 = 0;
          for (let grade of grades) {
            if (grade === 4 || grade === 5) numOf4And5++;
          }
          return numOf4And5;
        }

        function getGradesAvg(grades) {
          let gradesSum = 0;
          for (let i = 0; i < grades.length; i++) {
            gradesSum += grades[i];
          }

          return gradesSum / grades.length;
        }

        function getNumberOfGradesBelowAvg(grades, gradesAvg) {
          let numOfBelowAvg = 0;
          for (let grade of grades) {
            if (grade < gradesAvg) numOfBelowAvg++;
          }
          return numOfBelowAvg;
        }

        // const studentsGrades = [2, 3, 4, 5, 3, 3, 2, 4, 5]
        const studentsGrades = getGradesArr(5);
        const gradesAvg = getGradesAvg(studentsGrades);
        const numOf2 = getNumberOfBadGrades(studentsGrades);
        const numOf4and5 = getNumberOfGoodGrades(studentsGrades);
        const numOfGradesBelowAvg = getNumberOfGradesBelowAvg(
          studentsGrades,
          gradesAvg
        );

        document.write(`Оцінки: ${studentsGrades}<br>`);
        document.write(`Кількість двійок: ${numOf2}<br>`);
        document.write(`Кількість четвірок і пʼятірок: ${numOf4and5}<br>`);
        document.write(
          `Кількість оцінок нижчих за середнє: ${numOfGradesBelowAvg} (середнє = ${gradesAvg.toFixed(
            2
          )})`
        );
      </script>
    </main>
  </body>
</html>
